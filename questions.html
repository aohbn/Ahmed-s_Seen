import { useState } from "react";
import QuestionModal from "../components/QuestionModal";

export default function Questions({ questions = [], teams }) {
  // `teams` can be {teamA: "Red", teamB: "Blue"} from your app state/settings.
  const [selected, setSelected] = useState(null);
  const [open, setOpen] = useState(false);

  const handleOpen = (q) => { setSelected(q); setOpen(true); };
  const handleClose = () => { setOpen(false); setSelected(null); };

  return (
    <div style={{ padding: 16 }}>
      <h2>Questions</h2>

      <div style={{ display: "grid", gap: 12 }}>
        {questions.map((q) => (
          <button
            key={q.id}
            style={cardBtn}
            onClick={() => handleOpen(q)}
          >
            <div style={{ fontWeight: 600 }}>{q.title ?? `Question #${q.id}`}</div>
            {q.category ? <div style={{ fontSize: 12, opacity: 0.7 }}>{q.category}</div> : null}
          </button>
        ))}
      </div>

      <QuestionModal
        open={open}
        onClose={handleClose}
        question={selected}
        teamA={teams?.teamA ?? "Team A"}
        teamB={teams?.teamB ?? "Team B"}
        defaultSeconds={60}
      />
    </div>
  );
}

const cardBtn = {
  textAlign: "left",
  padding: 14,
  borderRadius: 12,
  border: "1px solid #eaeaea",
  background: "#fff",
  cursor: "pointer",
  boxShadow: "0 4px 10px rgba(0,0,0,.03)"
};
