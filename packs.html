<!doctype html><html lang="ar" dir="rtl"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>ุณูู ุฌูู โข ุงูุญูุฒู</title><link rel="stylesheet" href="/assets/style.css">
<script type="module">
import { listPacks, addPack, deletePack, exportAll, importAllFromFile, importAllFromText } from "/assets/app.js";
function render(){ const cont=document.getElementById('packsList'); cont.innerHTML=''; listPacks().forEach(p=>{ const row=document.createElement('div'); row.className='list-item'; row.innerHTML=`<span>\${p.name}</span><button class="btn danger" data-del="\${p.id}">ุญุฐู</button>`; cont.appendChild(row); }); cont.querySelectorAll('[data-del]').forEach(b=> b.onclick=()=>{ if(confirm('ุญุฐูุ')){ deletePack(b.dataset.del); render(); } }); }
window.addEventListener('DOMContentLoaded',()=>{ render(); document.getElementById('createBtn').onclick=()=>{ const n=(document.getElementById('packName').value||'').trim(); if(!n) return; addPack(n); document.getElementById('packName').value=''; render(); }; document.getElementById('exportBtn').onclick=exportAll; const fileInput=document.getElementById('importFile'); document.getElementById('importMerge').onclick=()=>{ fileInput.dataset.mode='merge'; fileInput.value=''; fileInput.click(); }; document.getElementById('importReplace').onclick=()=>{ fileInput.dataset.mode='replace'; fileInput.value=''; fileInput.click(); }; fileInput.onchange=async()=>{ if(!fileInput.files.length) return; const mode=fileInput.dataset.mode||'merge'; try{ await importAllFromFile(fileInput.files[0], mode); document.getElementById('status').textContent='โ ุชู ุงูุงุณุชูุฑุงุฏ'; location.href='/game'; }catch(e){ document.getElementById('status').textContent='ูุดู: '+e.message; } }; });
</script></head>
<body>
  <header class="nav">
    <div class="container nav-inner">
      <nav class="tabs"><a class="tab" href="/">ุงูุฑุฆูุณูุฉ</a><a class="tab active" href="/packs">ุงูุญูุฒู</a><a class="tab" href="/questions">ุงูุฃุณุฆูุฉ</a><a class="tab" href="/game">ุงูุจุฏุก</a><a class="tab" href="/settings">ุงูุฅุนุฏุงุฏุงุช</a></nav>
      <div class="spacer"></div>
      <div class="brand">๐ฎ ุณูู ุฌูู</div>
    </div>
  </header>
<main class="container"><div class="grid cols-2">
<div class="card"><h2>ุงุณุชูุฑุงุฏ/ุชุตุฏูุฑ</h2><p class="hint">ูุฏุนู JSON ุงููุณุทุญ ูุดูู v6.5.</p>
<div class="row"><input type="file" id="importFile" accept="application/json,.json" class="input" style="max-width:280px">
<button class="btn" id="importMerge">ุงุณุชูุฑุงุฏ (ุฏูุฌ)</button><button class="btn danger" id="importReplace">ุงุณุชูุฑุงุฏ (ุงุณุชุจุฏุงู)</button>
<button class="btn" id="exportBtn">ุชุตุฏูุฑ JSON</button><span class="hint" id="status"></span></div></div>
<div class="card"><h2>ุฅูุดุงุก ุญุฒูุฉ ุณุฑูุนุฉ</h2><div class="grid cols-2"><label>ุงุณู ุงูุญุฒูุฉ <input id="packName" class="input" placeholder="ูุซุงู: ุซูุงูุฉ ุนุงูุฉ"></label><div class="row" style="align-items:flex-end"><button class="btn primary" id="createBtn">ุฅูุดุงุก</button></div></div><h3 style="margin-top:14px">ุญูุฒูู</h3><div id="packsList" class="list"></div></div>
</div></main><footer><span>ุณูู ุฌูู โข ุงูุญูุฒู</span></footer></body></html>